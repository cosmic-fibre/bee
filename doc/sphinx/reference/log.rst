-------------------------------------------------------------------------------
                                   Package `log`
-------------------------------------------------------------------------------

.. module:: log

The Bee server puts all diagnostic messages in a log file specified by
the :confval:`logger` configuration parameter. Diagnostic messages may be either
system-generated by the server's internal code, or user-generated with the
``log.log_level_function_name`` function.

.. function:: error(message)
              warn(message)
              info(message)
              debug(message)

    Output a user-generated message to the :ref:`log file <logger>`, given
    log_level_function_name = ``error`` or ``warn`` or ``info`` or ``debug``.

    :param string message: The actual output will be a line containing the
                           current timestamp, a module name, 'E' or 'W' or
                           'I' or 'D' or 'R' depending on
                           ``log_level_function_name``, and ``message``.
                           Output will not occur if ``log_level_function_name``
                           is for a type greater than :ref:`log_level <logger>`.
    :return: nil

.. function:: logger_pid()

.. function:: rotate()

=================================================
                     Example
=================================================

.. code-block:: lua

        #From the shell:
        #Start the server, do some requests, exit, and display the log, thus:
        $ ~/bee/src/bee
        bee> db.cfg{log_level=3, logger='bee.txt'}
        bee> log = require('log')
        bee> log.error('Error')
        bee> log.info('Info')
        bee> os.exit()
        $ less bee.txt

The output from the less command will look approximately like this:

.. code-block:: lua

    2...0 [5257] main/101/interactive C> version 1.6.3-355-ga4f762d
    2...1 [5257] main/101/interactive C> log level 3
    2...1 [5261] main/101/spawner C> initialized
    2...0 [5257] main/101/interactive [C]:-1 E> Error

The 'Error' line is visible in bee.txt preceded by the letter E.
The 'Info' line is not present because the log_level is 3.
