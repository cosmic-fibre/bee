db.schema.user.create('test', { password = 'pass123456'})
---
...
db.schema.user.grant('test', 'read,write,execute', 'universe')
---
...
while db.info.server.id == 0 do require('fiber').sleep(0.01) end
---
...
while db.space['_priv']:len() < 1 do require('fiber').sleep(0.01) end
---
...
s = db.schema.space.create('tweedledum', {id = 0})
---
...
index = s:create_index('primary', {type = 'hash'})
---
...
test 0 iteration
insert into t0 values (0, 'tuple 0')
---
- [0, 'tuple 0']
...
insert into t0 values (1, 'tuple 1')
---
- [1, 'tuple 1']
...
insert into t0 values (2, 'tuple 2')
---
- [2, 'tuple 2']
...
insert into t0 values (3, 'tuple 3')
---
- [3, 'tuple 3']
...
insert into t0 values (4, 'tuple 4')
---
- [4, 'tuple 4']
...
select * from t0 where k0 = 0
---
- [0, 'tuple 0']
...
select * from t0 where k0 = 1
---
- [1, 'tuple 1']
...
select * from t0 where k0 = 2
---
- [2, 'tuple 2']
...
select * from t0 where k0 = 3
---
- [3, 'tuple 3']
...
select * from t0 where k0 = 4
---
- [4, 'tuple 4']
...
insert into t0 values (5, 'tuple 5')
---
- [5, 'tuple 5']
...
insert into t0 values (6, 'tuple 6')
---
- [6, 'tuple 6']
...
insert into t0 values (7, 'tuple 7')
---
- [7, 'tuple 7']
...
insert into t0 values (8, 'tuple 8')
---
- [8, 'tuple 8']
...
insert into t0 values (9, 'tuple 9')
---
- [9, 'tuple 9']
...
select * from t0 where k0 = 5
---
- [5, 'tuple 5']
...
select * from t0 where k0 = 6
---
- [6, 'tuple 6']
...
select * from t0 where k0 = 7
---
- [7, 'tuple 7']
...
select * from t0 where k0 = 8
---
- [8, 'tuple 8']
...
select * from t0 where k0 = 9
---
- [9, 'tuple 9']
...
swap servers
switch replica to master
db.cfg{replication_source=''}
---
...
switch master to replica
insert into t0 values (10, 'tuple 10')
---
- [10, 'tuple 10']
...
insert into t0 values (11, 'tuple 11')
---
- [11, 'tuple 11']
...
insert into t0 values (12, 'tuple 12')
---
- [12, 'tuple 12']
...
insert into t0 values (13, 'tuple 13')
---
- [13, 'tuple 13']
...
insert into t0 values (14, 'tuple 14')
---
- [14, 'tuple 14']
...
select * from t0 where k0 = 10
---
- [10, 'tuple 10']
...
select * from t0 where k0 = 11
---
- [11, 'tuple 11']
...
select * from t0 where k0 = 12
---
- [12, 'tuple 12']
...
select * from t0 where k0 = 13
---
- [13, 'tuple 13']
...
select * from t0 where k0 = 14
---
- [14, 'tuple 14']
...
insert into t0 values (15, 'tuple 15')
---
- [15, 'tuple 15']
...
insert into t0 values (16, 'tuple 16')
---
- [16, 'tuple 16']
...
insert into t0 values (17, 'tuple 17')
---
- [17, 'tuple 17']
...
insert into t0 values (18, 'tuple 18')
---
- [18, 'tuple 18']
...
insert into t0 values (19, 'tuple 19')
---
- [19, 'tuple 19']
...
select * from t0 where k0 = 15
---
- [15, 'tuple 15']
...
select * from t0 where k0 = 16
---
- [16, 'tuple 16']
...
select * from t0 where k0 = 17
---
- [17, 'tuple 17']
...
select * from t0 where k0 = 18
---
- [18, 'tuple 18']
...
select * from t0 where k0 = 19
---
- [19, 'tuple 19']
...
rollback servers configuration
switch master to master
db.cfg{replication_source=''}
---
...
switch replica to replica
test 1 iteration
insert into t0 values (20, 'tuple 20')
---
- [20, 'tuple 20']
...
insert into t0 values (21, 'tuple 21')
---
- [21, 'tuple 21']
...
insert into t0 values (22, 'tuple 22')
---
- [22, 'tuple 22']
...
insert into t0 values (23, 'tuple 23')
---
- [23, 'tuple 23']
...
insert into t0 values (24, 'tuple 24')
---
- [24, 'tuple 24']
...
select * from t0 where k0 = 20
---
- [20, 'tuple 20']
...
select * from t0 where k0 = 21
---
- [21, 'tuple 21']
...
select * from t0 where k0 = 22
---
- [22, 'tuple 22']
...
select * from t0 where k0 = 23
---
- [23, 'tuple 23']
...
select * from t0 where k0 = 24
---
- [24, 'tuple 24']
...
insert into t0 values (25, 'tuple 25')
---
- [25, 'tuple 25']
...
insert into t0 values (26, 'tuple 26')
---
- [26, 'tuple 26']
...
insert into t0 values (27, 'tuple 27')
---
- [27, 'tuple 27']
...
insert into t0 values (28, 'tuple 28')
---
- [28, 'tuple 28']
...
insert into t0 values (29, 'tuple 29')
---
- [29, 'tuple 29']
...
select * from t0 where k0 = 25
---
- [25, 'tuple 25']
...
select * from t0 where k0 = 26
---
- [26, 'tuple 26']
...
select * from t0 where k0 = 27
---
- [27, 'tuple 27']
...
select * from t0 where k0 = 28
---
- [28, 'tuple 28']
...
select * from t0 where k0 = 29
---
- [29, 'tuple 29']
...
swap servers
switch replica to master
db.cfg{replication_source=''}
---
...
switch master to replica
insert into t0 values (30, 'tuple 30')
---
- [30, 'tuple 30']
...
insert into t0 values (31, 'tuple 31')
---
- [31, 'tuple 31']
...
insert into t0 values (32, 'tuple 32')
---
- [32, 'tuple 32']
...
insert into t0 values (33, 'tuple 33')
---
- [33, 'tuple 33']
...
insert into t0 values (34, 'tuple 34')
---
- [34, 'tuple 34']
...
select * from t0 where k0 = 30
---
- [30, 'tuple 30']
...
select * from t0 where k0 = 31
---
- [31, 'tuple 31']
...
select * from t0 where k0 = 32
---
- [32, 'tuple 32']
...
select * from t0 where k0 = 33
---
- [33, 'tuple 33']
...
select * from t0 where k0 = 34
---
- [34, 'tuple 34']
...
insert into t0 values (35, 'tuple 35')
---
- [35, 'tuple 35']
...
insert into t0 values (36, 'tuple 36')
---
- [36, 'tuple 36']
...
insert into t0 values (37, 'tuple 37')
---
- [37, 'tuple 37']
...
insert into t0 values (38, 'tuple 38')
---
- [38, 'tuple 38']
...
insert into t0 values (39, 'tuple 39')
---
- [39, 'tuple 39']
...
select * from t0 where k0 = 35
---
- [35, 'tuple 35']
...
select * from t0 where k0 = 36
---
- [36, 'tuple 36']
...
select * from t0 where k0 = 37
---
- [37, 'tuple 37']
...
select * from t0 where k0 = 38
---
- [38, 'tuple 38']
...
select * from t0 where k0 = 39
---
- [39, 'tuple 39']
...
rollback servers configuration
switch master to master
db.cfg{replication_source=''}
---
...
switch replica to replica
test 2 iteration
insert into t0 values (40, 'tuple 40')
---
- [40, 'tuple 40']
...
insert into t0 values (41, 'tuple 41')
---
- [41, 'tuple 41']
...
insert into t0 values (42, 'tuple 42')
---
- [42, 'tuple 42']
...
insert into t0 values (43, 'tuple 43')
---
- [43, 'tuple 43']
...
insert into t0 values (44, 'tuple 44')
---
- [44, 'tuple 44']
...
select * from t0 where k0 = 40
---
- [40, 'tuple 40']
...
select * from t0 where k0 = 41
---
- [41, 'tuple 41']
...
select * from t0 where k0 = 42
---
- [42, 'tuple 42']
...
select * from t0 where k0 = 43
---
- [43, 'tuple 43']
...
select * from t0 where k0 = 44
---
- [44, 'tuple 44']
...
insert into t0 values (45, 'tuple 45')
---
- [45, 'tuple 45']
...
insert into t0 values (46, 'tuple 46')
---
- [46, 'tuple 46']
...
insert into t0 values (47, 'tuple 47')
---
- [47, 'tuple 47']
...
insert into t0 values (48, 'tuple 48')
---
- [48, 'tuple 48']
...
insert into t0 values (49, 'tuple 49')
---
- [49, 'tuple 49']
...
select * from t0 where k0 = 45
---
- [45, 'tuple 45']
...
select * from t0 where k0 = 46
---
- [46, 'tuple 46']
...
select * from t0 where k0 = 47
---
- [47, 'tuple 47']
...
select * from t0 where k0 = 48
---
- [48, 'tuple 48']
...
select * from t0 where k0 = 49
---
- [49, 'tuple 49']
...
swap servers
switch replica to master
db.cfg{replication_source=''}
---
...
switch master to replica
insert into t0 values (50, 'tuple 50')
---
- [50, 'tuple 50']
...
insert into t0 values (51, 'tuple 51')
---
- [51, 'tuple 51']
...
insert into t0 values (52, 'tuple 52')
---
- [52, 'tuple 52']
...
insert into t0 values (53, 'tuple 53')
---
- [53, 'tuple 53']
...
insert into t0 values (54, 'tuple 54')
---
- [54, 'tuple 54']
...
select * from t0 where k0 = 50
---
- [50, 'tuple 50']
...
select * from t0 where k0 = 51
---
- [51, 'tuple 51']
...
select * from t0 where k0 = 52
---
- [52, 'tuple 52']
...
select * from t0 where k0 = 53
---
- [53, 'tuple 53']
...
select * from t0 where k0 = 54
---
- [54, 'tuple 54']
...
insert into t0 values (55, 'tuple 55')
---
- [55, 'tuple 55']
...
insert into t0 values (56, 'tuple 56')
---
- [56, 'tuple 56']
...
insert into t0 values (57, 'tuple 57')
---
- [57, 'tuple 57']
...
insert into t0 values (58, 'tuple 58')
---
- [58, 'tuple 58']
...
insert into t0 values (59, 'tuple 59')
---
- [59, 'tuple 59']
...
select * from t0 where k0 = 55
---
- [55, 'tuple 55']
...
select * from t0 where k0 = 56
---
- [56, 'tuple 56']
...
select * from t0 where k0 = 57
---
- [57, 'tuple 57']
...
select * from t0 where k0 = 58
---
- [58, 'tuple 58']
...
select * from t0 where k0 = 59
---
- [59, 'tuple 59']
...
rollback servers configuration
switch master to master
db.cfg{replication_source=''}
---
...
switch replica to replica
test 3 iteration
insert into t0 values (60, 'tuple 60')
---
- [60, 'tuple 60']
...
insert into t0 values (61, 'tuple 61')
---
- [61, 'tuple 61']
...
insert into t0 values (62, 'tuple 62')
---
- [62, 'tuple 62']
...
insert into t0 values (63, 'tuple 63')
---
- [63, 'tuple 63']
...
insert into t0 values (64, 'tuple 64')
---
- [64, 'tuple 64']
...
select * from t0 where k0 = 60
---
- [60, 'tuple 60']
...
select * from t0 where k0 = 61
---
- [61, 'tuple 61']
...
select * from t0 where k0 = 62
---
- [62, 'tuple 62']
...
select * from t0 where k0 = 63
---
- [63, 'tuple 63']
...
select * from t0 where k0 = 64
---
- [64, 'tuple 64']
...
insert into t0 values (65, 'tuple 65')
---
- [65, 'tuple 65']
...
insert into t0 values (66, 'tuple 66')
---
- [66, 'tuple 66']
...
insert into t0 values (67, 'tuple 67')
---
- [67, 'tuple 67']
...
insert into t0 values (68, 'tuple 68')
---
- [68, 'tuple 68']
...
insert into t0 values (69, 'tuple 69')
---
- [69, 'tuple 69']
...
select * from t0 where k0 = 65
---
- [65, 'tuple 65']
...
select * from t0 where k0 = 66
---
- [66, 'tuple 66']
...
select * from t0 where k0 = 67
---
- [67, 'tuple 67']
...
select * from t0 where k0 = 68
---
- [68, 'tuple 68']
...
select * from t0 where k0 = 69
---
- [69, 'tuple 69']
...
swap servers
switch replica to master
db.cfg{replication_source=''}
---
...
switch master to replica
insert into t0 values (70, 'tuple 70')
---
- [70, 'tuple 70']
...
insert into t0 values (71, 'tuple 71')
---
- [71, 'tuple 71']
...
insert into t0 values (72, 'tuple 72')
---
- [72, 'tuple 72']
...
insert into t0 values (73, 'tuple 73')
---
- [73, 'tuple 73']
...
insert into t0 values (74, 'tuple 74')
---
- [74, 'tuple 74']
...
select * from t0 where k0 = 70
---
- [70, 'tuple 70']
...
select * from t0 where k0 = 71
---
- [71, 'tuple 71']
...
select * from t0 where k0 = 72
---
- [72, 'tuple 72']
...
select * from t0 where k0 = 73
---
- [73, 'tuple 73']
...
select * from t0 where k0 = 74
---
- [74, 'tuple 74']
...
insert into t0 values (75, 'tuple 75')
---
- [75, 'tuple 75']
...
insert into t0 values (76, 'tuple 76')
---
- [76, 'tuple 76']
...
insert into t0 values (77, 'tuple 77')
---
- [77, 'tuple 77']
...
insert into t0 values (78, 'tuple 78')
---
- [78, 'tuple 78']
...
insert into t0 values (79, 'tuple 79')
---
- [79, 'tuple 79']
...
select * from t0 where k0 = 75
---
- [75, 'tuple 75']
...
select * from t0 where k0 = 76
---
- [76, 'tuple 76']
...
select * from t0 where k0 = 77
---
- [77, 'tuple 77']
...
select * from t0 where k0 = 78
---
- [78, 'tuple 78']
...
select * from t0 where k0 = 79
---
- [79, 'tuple 79']
...
rollback servers configuration
switch master to master
db.cfg{replication_source=''}
---
...
switch replica to replica
test 4 iteration
insert into t0 values (80, 'tuple 80')
---
- [80, 'tuple 80']
...
insert into t0 values (81, 'tuple 81')
---
- [81, 'tuple 81']
...
insert into t0 values (82, 'tuple 82')
---
- [82, 'tuple 82']
...
insert into t0 values (83, 'tuple 83')
---
- [83, 'tuple 83']
...
insert into t0 values (84, 'tuple 84')
---
- [84, 'tuple 84']
...
select * from t0 where k0 = 80
---
- [80, 'tuple 80']
...
select * from t0 where k0 = 81
---
- [81, 'tuple 81']
...
select * from t0 where k0 = 82
---
- [82, 'tuple 82']
...
select * from t0 where k0 = 83
---
- [83, 'tuple 83']
...
select * from t0 where k0 = 84
---
- [84, 'tuple 84']
...
insert into t0 values (85, 'tuple 85')
---
- [85, 'tuple 85']
...
insert into t0 values (86, 'tuple 86')
---
- [86, 'tuple 86']
...
insert into t0 values (87, 'tuple 87')
---
- [87, 'tuple 87']
...
insert into t0 values (88, 'tuple 88')
---
- [88, 'tuple 88']
...
insert into t0 values (89, 'tuple 89')
---
- [89, 'tuple 89']
...
select * from t0 where k0 = 85
---
- [85, 'tuple 85']
...
select * from t0 where k0 = 86
---
- [86, 'tuple 86']
...
select * from t0 where k0 = 87
---
- [87, 'tuple 87']
...
select * from t0 where k0 = 88
---
- [88, 'tuple 88']
...
select * from t0 where k0 = 89
---
- [89, 'tuple 89']
...
swap servers
switch replica to master
db.cfg{replication_source=''}
---
...
switch master to replica
insert into t0 values (90, 'tuple 90')
---
- [90, 'tuple 90']
...
insert into t0 values (91, 'tuple 91')
---
- [91, 'tuple 91']
...
insert into t0 values (92, 'tuple 92')
---
- [92, 'tuple 92']
...
insert into t0 values (93, 'tuple 93')
---
- [93, 'tuple 93']
...
insert into t0 values (94, 'tuple 94')
---
- [94, 'tuple 94']
...
select * from t0 where k0 = 90
---
- [90, 'tuple 90']
...
select * from t0 where k0 = 91
---
- [91, 'tuple 91']
...
select * from t0 where k0 = 92
---
- [92, 'tuple 92']
...
select * from t0 where k0 = 93
---
- [93, 'tuple 93']
...
select * from t0 where k0 = 94
---
- [94, 'tuple 94']
...
insert into t0 values (95, 'tuple 95')
---
- [95, 'tuple 95']
...
insert into t0 values (96, 'tuple 96')
---
- [96, 'tuple 96']
...
insert into t0 values (97, 'tuple 97')
---
- [97, 'tuple 97']
...
insert into t0 values (98, 'tuple 98')
---
- [98, 'tuple 98']
...
insert into t0 values (99, 'tuple 99')
---
- [99, 'tuple 99']
...
select * from t0 where k0 = 95
---
- [95, 'tuple 95']
...
select * from t0 where k0 = 96
---
- [96, 'tuple 96']
...
select * from t0 where k0 = 97
---
- [97, 'tuple 97']
...
select * from t0 where k0 = 98
---
- [98, 'tuple 98']
...
select * from t0 where k0 = 99
---
- [99, 'tuple 99']
...
rollback servers configuration
switch master to master
db.cfg{replication_source=''}
---
...
switch replica to replica
test 5 iteration
insert into t0 values (100, 'tuple 100')
---
- [100, 'tuple 100']
...
insert into t0 values (101, 'tuple 101')
---
- [101, 'tuple 101']
...
insert into t0 values (102, 'tuple 102')
---
- [102, 'tuple 102']
...
insert into t0 values (103, 'tuple 103')
---
- [103, 'tuple 103']
...
insert into t0 values (104, 'tuple 104')
---
- [104, 'tuple 104']
...
select * from t0 where k0 = 100
---
- [100, 'tuple 100']
...
select * from t0 where k0 = 101
---
- [101, 'tuple 101']
...
select * from t0 where k0 = 102
---
- [102, 'tuple 102']
...
select * from t0 where k0 = 103
---
- [103, 'tuple 103']
...
select * from t0 where k0 = 104
---
- [104, 'tuple 104']
...
insert into t0 values (105, 'tuple 105')
---
- [105, 'tuple 105']
...
insert into t0 values (106, 'tuple 106')
---
- [106, 'tuple 106']
...
insert into t0 values (107, 'tuple 107')
---
- [107, 'tuple 107']
...
insert into t0 values (108, 'tuple 108')
---
- [108, 'tuple 108']
...
insert into t0 values (109, 'tuple 109')
---
- [109, 'tuple 109']
...
select * from t0 where k0 = 105
---
- [105, 'tuple 105']
...
select * from t0 where k0 = 106
---
- [106, 'tuple 106']
...
select * from t0 where k0 = 107
---
- [107, 'tuple 107']
...
select * from t0 where k0 = 108
---
- [108, 'tuple 108']
...
select * from t0 where k0 = 109
---
- [109, 'tuple 109']
...
swap servers
switch replica to master
db.cfg{replication_source=''}
---
...
switch master to replica
insert into t0 values (110, 'tuple 110')
---
- [110, 'tuple 110']
...
insert into t0 values (111, 'tuple 111')
---
- [111, 'tuple 111']
...
insert into t0 values (112, 'tuple 112')
---
- [112, 'tuple 112']
...
insert into t0 values (113, 'tuple 113')
---
- [113, 'tuple 113']
...
insert into t0 values (114, 'tuple 114')
---
- [114, 'tuple 114']
...
select * from t0 where k0 = 110
---
- [110, 'tuple 110']
...
select * from t0 where k0 = 111
---
- [111, 'tuple 111']
...
select * from t0 where k0 = 112
---
- [112, 'tuple 112']
...
select * from t0 where k0 = 113
---
- [113, 'tuple 113']
...
select * from t0 where k0 = 114
---
- [114, 'tuple 114']
...
insert into t0 values (115, 'tuple 115')
---
- [115, 'tuple 115']
...
insert into t0 values (116, 'tuple 116')
---
- [116, 'tuple 116']
...
insert into t0 values (117, 'tuple 117')
---
- [117, 'tuple 117']
...
insert into t0 values (118, 'tuple 118')
---
- [118, 'tuple 118']
...
insert into t0 values (119, 'tuple 119')
---
- [119, 'tuple 119']
...
select * from t0 where k0 = 115
---
- [115, 'tuple 115']
...
select * from t0 where k0 = 116
---
- [116, 'tuple 116']
...
select * from t0 where k0 = 117
---
- [117, 'tuple 117']
...
select * from t0 where k0 = 118
---
- [118, 'tuple 118']
...
select * from t0 where k0 = 119
---
- [119, 'tuple 119']
...
rollback servers configuration
switch master to master
db.cfg{replication_source=''}
---
...
switch replica to replica
test 6 iteration
insert into t0 values (120, 'tuple 120')
---
- [120, 'tuple 120']
...
insert into t0 values (121, 'tuple 121')
---
- [121, 'tuple 121']
...
insert into t0 values (122, 'tuple 122')
---
- [122, 'tuple 122']
...
insert into t0 values (123, 'tuple 123')
---
- [123, 'tuple 123']
...
insert into t0 values (124, 'tuple 124')
---
- [124, 'tuple 124']
...
select * from t0 where k0 = 120
---
- [120, 'tuple 120']
...
select * from t0 where k0 = 121
---
- [121, 'tuple 121']
...
select * from t0 where k0 = 122
---
- [122, 'tuple 122']
...
select * from t0 where k0 = 123
---
- [123, 'tuple 123']
...
select * from t0 where k0 = 124
---
- [124, 'tuple 124']
...
insert into t0 values (125, 'tuple 125')
---
- [125, 'tuple 125']
...
insert into t0 values (126, 'tuple 126')
---
- [126, 'tuple 126']
...
insert into t0 values (127, 'tuple 127')
---
- [127, 'tuple 127']
...
insert into t0 values (128, 'tuple 128')
---
- [128, 'tuple 128']
...
insert into t0 values (129, 'tuple 129')
---
- [129, 'tuple 129']
...
select * from t0 where k0 = 125
---
- [125, 'tuple 125']
...
select * from t0 where k0 = 126
---
- [126, 'tuple 126']
...
select * from t0 where k0 = 127
---
- [127, 'tuple 127']
...
select * from t0 where k0 = 128
---
- [128, 'tuple 128']
...
select * from t0 where k0 = 129
---
- [129, 'tuple 129']
...
swap servers
switch replica to master
db.cfg{replication_source=''}
---
...
switch master to replica
insert into t0 values (130, 'tuple 130')
---
- [130, 'tuple 130']
...
insert into t0 values (131, 'tuple 131')
---
- [131, 'tuple 131']
...
insert into t0 values (132, 'tuple 132')
---
- [132, 'tuple 132']
...
insert into t0 values (133, 'tuple 133')
---
- [133, 'tuple 133']
...
insert into t0 values (134, 'tuple 134')
---
- [134, 'tuple 134']
...
select * from t0 where k0 = 130
---
- [130, 'tuple 130']
...
select * from t0 where k0 = 131
---
- [131, 'tuple 131']
...
select * from t0 where k0 = 132
---
- [132, 'tuple 132']
...
select * from t0 where k0 = 133
---
- [133, 'tuple 133']
...
select * from t0 where k0 = 134
---
- [134, 'tuple 134']
...
insert into t0 values (135, 'tuple 135')
---
- [135, 'tuple 135']
...
insert into t0 values (136, 'tuple 136')
---
- [136, 'tuple 136']
...
insert into t0 values (137, 'tuple 137')
---
- [137, 'tuple 137']
...
insert into t0 values (138, 'tuple 138')
---
- [138, 'tuple 138']
...
insert into t0 values (139, 'tuple 139')
---
- [139, 'tuple 139']
...
select * from t0 where k0 = 135
---
- [135, 'tuple 135']
...
select * from t0 where k0 = 136
---
- [136, 'tuple 136']
...
select * from t0 where k0 = 137
---
- [137, 'tuple 137']
...
select * from t0 where k0 = 138
---
- [138, 'tuple 138']
...
select * from t0 where k0 = 139
---
- [139, 'tuple 139']
...
rollback servers configuration
switch master to master
db.cfg{replication_source=''}
---
...
switch replica to replica
test 7 iteration
insert into t0 values (140, 'tuple 140')
---
- [140, 'tuple 140']
...
insert into t0 values (141, 'tuple 141')
---
- [141, 'tuple 141']
...
insert into t0 values (142, 'tuple 142')
---
- [142, 'tuple 142']
...
insert into t0 values (143, 'tuple 143')
---
- [143, 'tuple 143']
...
insert into t0 values (144, 'tuple 144')
---
- [144, 'tuple 144']
...
select * from t0 where k0 = 140
---
- [140, 'tuple 140']
...
select * from t0 where k0 = 141
---
- [141, 'tuple 141']
...
select * from t0 where k0 = 142
---
- [142, 'tuple 142']
...
select * from t0 where k0 = 143
---
- [143, 'tuple 143']
...
select * from t0 where k0 = 144
---
- [144, 'tuple 144']
...
insert into t0 values (145, 'tuple 145')
---
- [145, 'tuple 145']
...
insert into t0 values (146, 'tuple 146')
---
- [146, 'tuple 146']
...
insert into t0 values (147, 'tuple 147')
---
- [147, 'tuple 147']
...
insert into t0 values (148, 'tuple 148')
---
- [148, 'tuple 148']
...
insert into t0 values (149, 'tuple 149')
---
- [149, 'tuple 149']
...
select * from t0 where k0 = 145
---
- [145, 'tuple 145']
...
select * from t0 where k0 = 146
---
- [146, 'tuple 146']
...
select * from t0 where k0 = 147
---
- [147, 'tuple 147']
...
select * from t0 where k0 = 148
---
- [148, 'tuple 148']
...
select * from t0 where k0 = 149
---
- [149, 'tuple 149']
...
swap servers
switch replica to master
db.cfg{replication_source=''}
---
...
switch master to replica
insert into t0 values (150, 'tuple 150')
---
- [150, 'tuple 150']
...
insert into t0 values (151, 'tuple 151')
---
- [151, 'tuple 151']
...
insert into t0 values (152, 'tuple 152')
---
- [152, 'tuple 152']
...
insert into t0 values (153, 'tuple 153')
---
- [153, 'tuple 153']
...
insert into t0 values (154, 'tuple 154')
---
- [154, 'tuple 154']
...
select * from t0 where k0 = 150
---
- [150, 'tuple 150']
...
select * from t0 where k0 = 151
---
- [151, 'tuple 151']
...
select * from t0 where k0 = 152
---
- [152, 'tuple 152']
...
select * from t0 where k0 = 153
---
- [153, 'tuple 153']
...
select * from t0 where k0 = 154
---
- [154, 'tuple 154']
...
insert into t0 values (155, 'tuple 155')
---
- [155, 'tuple 155']
...
insert into t0 values (156, 'tuple 156')
---
- [156, 'tuple 156']
...
insert into t0 values (157, 'tuple 157')
---
- [157, 'tuple 157']
...
insert into t0 values (158, 'tuple 158')
---
- [158, 'tuple 158']
...
insert into t0 values (159, 'tuple 159')
---
- [159, 'tuple 159']
...
select * from t0 where k0 = 155
---
- [155, 'tuple 155']
...
select * from t0 where k0 = 156
---
- [156, 'tuple 156']
...
select * from t0 where k0 = 157
---
- [157, 'tuple 157']
...
select * from t0 where k0 = 158
---
- [158, 'tuple 158']
...
select * from t0 where k0 = 159
---
- [159, 'tuple 159']
...
rollback servers configuration
switch master to master
db.cfg{replication_source=''}
---
...
switch replica to replica
test 8 iteration
insert into t0 values (160, 'tuple 160')
---
- [160, 'tuple 160']
...
insert into t0 values (161, 'tuple 161')
---
- [161, 'tuple 161']
...
insert into t0 values (162, 'tuple 162')
---
- [162, 'tuple 162']
...
insert into t0 values (163, 'tuple 163')
---
- [163, 'tuple 163']
...
insert into t0 values (164, 'tuple 164')
---
- [164, 'tuple 164']
...
select * from t0 where k0 = 160
---
- [160, 'tuple 160']
...
select * from t0 where k0 = 161
---
- [161, 'tuple 161']
...
select * from t0 where k0 = 162
---
- [162, 'tuple 162']
...
select * from t0 where k0 = 163
---
- [163, 'tuple 163']
...
select * from t0 where k0 = 164
---
- [164, 'tuple 164']
...
insert into t0 values (165, 'tuple 165')
---
- [165, 'tuple 165']
...
insert into t0 values (166, 'tuple 166')
---
- [166, 'tuple 166']
...
insert into t0 values (167, 'tuple 167')
---
- [167, 'tuple 167']
...
insert into t0 values (168, 'tuple 168')
---
- [168, 'tuple 168']
...
insert into t0 values (169, 'tuple 169')
---
- [169, 'tuple 169']
...
select * from t0 where k0 = 165
---
- [165, 'tuple 165']
...
select * from t0 where k0 = 166
---
- [166, 'tuple 166']
...
select * from t0 where k0 = 167
---
- [167, 'tuple 167']
...
select * from t0 where k0 = 168
---
- [168, 'tuple 168']
...
select * from t0 where k0 = 169
---
- [169, 'tuple 169']
...
swap servers
switch replica to master
db.cfg{replication_source=''}
---
...
switch master to replica
insert into t0 values (170, 'tuple 170')
---
- [170, 'tuple 170']
...
insert into t0 values (171, 'tuple 171')
---
- [171, 'tuple 171']
...
insert into t0 values (172, 'tuple 172')
---
- [172, 'tuple 172']
...
insert into t0 values (173, 'tuple 173')
---
- [173, 'tuple 173']
...
insert into t0 values (174, 'tuple 174')
---
- [174, 'tuple 174']
...
select * from t0 where k0 = 170
---
- [170, 'tuple 170']
...
select * from t0 where k0 = 171
---
- [171, 'tuple 171']
...
select * from t0 where k0 = 172
---
- [172, 'tuple 172']
...
select * from t0 where k0 = 173
---
- [173, 'tuple 173']
...
select * from t0 where k0 = 174
---
- [174, 'tuple 174']
...
insert into t0 values (175, 'tuple 175')
---
- [175, 'tuple 175']
...
insert into t0 values (176, 'tuple 176')
---
- [176, 'tuple 176']
...
insert into t0 values (177, 'tuple 177')
---
- [177, 'tuple 177']
...
insert into t0 values (178, 'tuple 178')
---
- [178, 'tuple 178']
...
insert into t0 values (179, 'tuple 179')
---
- [179, 'tuple 179']
...
select * from t0 where k0 = 175
---
- [175, 'tuple 175']
...
select * from t0 where k0 = 176
---
- [176, 'tuple 176']
...
select * from t0 where k0 = 177
---
- [177, 'tuple 177']
...
select * from t0 where k0 = 178
---
- [178, 'tuple 178']
...
select * from t0 where k0 = 179
---
- [179, 'tuple 179']
...
rollback servers configuration
switch master to master
db.cfg{replication_source=''}
---
...
switch replica to replica
test 9 iteration
insert into t0 values (180, 'tuple 180')
---
- [180, 'tuple 180']
...
insert into t0 values (181, 'tuple 181')
---
- [181, 'tuple 181']
...
insert into t0 values (182, 'tuple 182')
---
- [182, 'tuple 182']
...
insert into t0 values (183, 'tuple 183')
---
- [183, 'tuple 183']
...
insert into t0 values (184, 'tuple 184')
---
- [184, 'tuple 184']
...
select * from t0 where k0 = 180
---
- [180, 'tuple 180']
...
select * from t0 where k0 = 181
---
- [181, 'tuple 181']
...
select * from t0 where k0 = 182
---
- [182, 'tuple 182']
...
select * from t0 where k0 = 183
---
- [183, 'tuple 183']
...
select * from t0 where k0 = 184
---
- [184, 'tuple 184']
...
insert into t0 values (185, 'tuple 185')
---
- [185, 'tuple 185']
...
insert into t0 values (186, 'tuple 186')
---
- [186, 'tuple 186']
...
insert into t0 values (187, 'tuple 187')
---
- [187, 'tuple 187']
...
insert into t0 values (188, 'tuple 188')
---
- [188, 'tuple 188']
...
insert into t0 values (189, 'tuple 189')
---
- [189, 'tuple 189']
...
select * from t0 where k0 = 185
---
- [185, 'tuple 185']
...
select * from t0 where k0 = 186
---
- [186, 'tuple 186']
...
select * from t0 where k0 = 187
---
- [187, 'tuple 187']
...
select * from t0 where k0 = 188
---
- [188, 'tuple 188']
...
select * from t0 where k0 = 189
---
- [189, 'tuple 189']
...
swap servers
switch replica to master
db.cfg{replication_source=''}
---
...
switch master to replica
insert into t0 values (190, 'tuple 190')
---
- [190, 'tuple 190']
...
insert into t0 values (191, 'tuple 191')
---
- [191, 'tuple 191']
...
insert into t0 values (192, 'tuple 192')
---
- [192, 'tuple 192']
...
insert into t0 values (193, 'tuple 193')
---
- [193, 'tuple 193']
...
insert into t0 values (194, 'tuple 194')
---
- [194, 'tuple 194']
...
select * from t0 where k0 = 190
---
- [190, 'tuple 190']
...
select * from t0 where k0 = 191
---
- [191, 'tuple 191']
...
select * from t0 where k0 = 192
---
- [192, 'tuple 192']
...
select * from t0 where k0 = 193
---
- [193, 'tuple 193']
...
select * from t0 where k0 = 194
---
- [194, 'tuple 194']
...
insert into t0 values (195, 'tuple 195')
---
- [195, 'tuple 195']
...
insert into t0 values (196, 'tuple 196')
---
- [196, 'tuple 196']
...
insert into t0 values (197, 'tuple 197')
---
- [197, 'tuple 197']
...
insert into t0 values (198, 'tuple 198')
---
- [198, 'tuple 198']
...
insert into t0 values (199, 'tuple 199')
---
- [199, 'tuple 199']
...
select * from t0 where k0 = 195
---
- [195, 'tuple 195']
...
select * from t0 where k0 = 196
---
- [196, 'tuple 196']
...
select * from t0 where k0 = 197
---
- [197, 'tuple 197']
...
select * from t0 where k0 = 198
---
- [198, 'tuple 198']
...
select * from t0 where k0 = 199
---
- [199, 'tuple 199']
...
rollback servers configuration
switch master to master
db.cfg{replication_source=''}
---
...
switch replica to replica
test 10 iteration
insert into t0 values (200, 'tuple 200')
---
- [200, 'tuple 200']
...
insert into t0 values (201, 'tuple 201')
---
- [201, 'tuple 201']
...
insert into t0 values (202, 'tuple 202')
---
- [202, 'tuple 202']
...
insert into t0 values (203, 'tuple 203')
---
- [203, 'tuple 203']
...
insert into t0 values (204, 'tuple 204')
---
- [204, 'tuple 204']
...
select * from t0 where k0 = 200
---
- [200, 'tuple 200']
...
select * from t0 where k0 = 201
---
- [201, 'tuple 201']
...
select * from t0 where k0 = 202
---
- [202, 'tuple 202']
...
select * from t0 where k0 = 203
---
- [203, 'tuple 203']
...
select * from t0 where k0 = 204
---
- [204, 'tuple 204']
...
insert into t0 values (205, 'tuple 205')
---
- [205, 'tuple 205']
...
insert into t0 values (206, 'tuple 206')
---
- [206, 'tuple 206']
...
insert into t0 values (207, 'tuple 207')
---
- [207, 'tuple 207']
...
insert into t0 values (208, 'tuple 208')
---
- [208, 'tuple 208']
...
insert into t0 values (209, 'tuple 209')
---
- [209, 'tuple 209']
...
select * from t0 where k0 = 205
---
- [205, 'tuple 205']
...
select * from t0 where k0 = 206
---
- [206, 'tuple 206']
...
select * from t0 where k0 = 207
---
- [207, 'tuple 207']
...
select * from t0 where k0 = 208
---
- [208, 'tuple 208']
...
select * from t0 where k0 = 209
---
- [209, 'tuple 209']
...
swap servers
switch replica to master
db.cfg{replication_source=''}
---
...
switch master to replica
insert into t0 values (210, 'tuple 210')
---
- [210, 'tuple 210']
...
insert into t0 values (211, 'tuple 211')
---
- [211, 'tuple 211']
...
insert into t0 values (212, 'tuple 212')
---
- [212, 'tuple 212']
...
insert into t0 values (213, 'tuple 213')
---
- [213, 'tuple 213']
...
insert into t0 values (214, 'tuple 214')
---
- [214, 'tuple 214']
...
select * from t0 where k0 = 210
---
- [210, 'tuple 210']
...
select * from t0 where k0 = 211
---
- [211, 'tuple 211']
...
select * from t0 where k0 = 212
---
- [212, 'tuple 212']
...
select * from t0 where k0 = 213
---
- [213, 'tuple 213']
...
select * from t0 where k0 = 214
---
- [214, 'tuple 214']
...
insert into t0 values (215, 'tuple 215')
---
- [215, 'tuple 215']
...
insert into t0 values (216, 'tuple 216')
---
- [216, 'tuple 216']
...
insert into t0 values (217, 'tuple 217')
---
- [217, 'tuple 217']
...
insert into t0 values (218, 'tuple 218')
---
- [218, 'tuple 218']
...
insert into t0 values (219, 'tuple 219')
---
- [219, 'tuple 219']
...
select * from t0 where k0 = 215
---
- [215, 'tuple 215']
...
select * from t0 where k0 = 216
---
- [216, 'tuple 216']
...
select * from t0 where k0 = 217
---
- [217, 'tuple 217']
...
select * from t0 where k0 = 218
---
- [218, 'tuple 218']
...
select * from t0 where k0 = 219
---
- [219, 'tuple 219']
...
rollback servers configuration
switch master to master
db.cfg{replication_source=''}
---
...
switch replica to replica
test 11 iteration
insert into t0 values (220, 'tuple 220')
---
- [220, 'tuple 220']
...
insert into t0 values (221, 'tuple 221')
---
- [221, 'tuple 221']
...
insert into t0 values (222, 'tuple 222')
---
- [222, 'tuple 222']
...
insert into t0 values (223, 'tuple 223')
---
- [223, 'tuple 223']
...
insert into t0 values (224, 'tuple 224')
---
- [224, 'tuple 224']
...
select * from t0 where k0 = 220
---
- [220, 'tuple 220']
...
select * from t0 where k0 = 221
---
- [221, 'tuple 221']
...
select * from t0 where k0 = 222
---
- [222, 'tuple 222']
...
select * from t0 where k0 = 223
---
- [223, 'tuple 223']
...
select * from t0 where k0 = 224
---
- [224, 'tuple 224']
...
insert into t0 values (225, 'tuple 225')
---
- [225, 'tuple 225']
...
insert into t0 values (226, 'tuple 226')
---
- [226, 'tuple 226']
...
insert into t0 values (227, 'tuple 227')
---
- [227, 'tuple 227']
...
insert into t0 values (228, 'tuple 228')
---
- [228, 'tuple 228']
...
insert into t0 values (229, 'tuple 229')
---
- [229, 'tuple 229']
...
select * from t0 where k0 = 225
---
- [225, 'tuple 225']
...
select * from t0 where k0 = 226
---
- [226, 'tuple 226']
...
select * from t0 where k0 = 227
---
- [227, 'tuple 227']
...
select * from t0 where k0 = 228
---
- [228, 'tuple 228']
...
select * from t0 where k0 = 229
---
- [229, 'tuple 229']
...
swap servers
switch replica to master
db.cfg{replication_source=''}
---
...
switch master to replica
insert into t0 values (230, 'tuple 230')
---
- [230, 'tuple 230']
...
insert into t0 values (231, 'tuple 231')
---
- [231, 'tuple 231']
...
insert into t0 values (232, 'tuple 232')
---
- [232, 'tuple 232']
...
insert into t0 values (233, 'tuple 233')
---
- [233, 'tuple 233']
...
insert into t0 values (234, 'tuple 234')
---
- [234, 'tuple 234']
...
select * from t0 where k0 = 230
---
- [230, 'tuple 230']
...
select * from t0 where k0 = 231
---
- [231, 'tuple 231']
...
select * from t0 where k0 = 232
---
- [232, 'tuple 232']
...
select * from t0 where k0 = 233
---
- [233, 'tuple 233']
...
select * from t0 where k0 = 234
---
- [234, 'tuple 234']
...
insert into t0 values (235, 'tuple 235')
---
- [235, 'tuple 235']
...
insert into t0 values (236, 'tuple 236')
---
- [236, 'tuple 236']
...
insert into t0 values (237, 'tuple 237')
---
- [237, 'tuple 237']
...
insert into t0 values (238, 'tuple 238')
---
- [238, 'tuple 238']
...
insert into t0 values (239, 'tuple 239')
---
- [239, 'tuple 239']
...
select * from t0 where k0 = 235
---
- [235, 'tuple 235']
...
select * from t0 where k0 = 236
---
- [236, 'tuple 236']
...
select * from t0 where k0 = 237
---
- [237, 'tuple 237']
...
select * from t0 where k0 = 238
---
- [238, 'tuple 238']
...
select * from t0 where k0 = 239
---
- [239, 'tuple 239']
...
rollback servers configuration
switch master to master
db.cfg{replication_source=''}
---
...
switch replica to replica
test 12 iteration
insert into t0 values (240, 'tuple 240')
---
- [240, 'tuple 240']
...
insert into t0 values (241, 'tuple 241')
---
- [241, 'tuple 241']
...
insert into t0 values (242, 'tuple 242')
---
- [242, 'tuple 242']
...
insert into t0 values (243, 'tuple 243')
---
- [243, 'tuple 243']
...
insert into t0 values (244, 'tuple 244')
---
- [244, 'tuple 244']
...
select * from t0 where k0 = 240
---
- [240, 'tuple 240']
...
select * from t0 where k0 = 241
---
- [241, 'tuple 241']
...
select * from t0 where k0 = 242
---
- [242, 'tuple 242']
...
select * from t0 where k0 = 243
---
- [243, 'tuple 243']
...
select * from t0 where k0 = 244
---
- [244, 'tuple 244']
...
insert into t0 values (245, 'tuple 245')
---
- [245, 'tuple 245']
...
insert into t0 values (246, 'tuple 246')
---
- [246, 'tuple 246']
...
insert into t0 values (247, 'tuple 247')
---
- [247, 'tuple 247']
...
insert into t0 values (248, 'tuple 248')
---
- [248, 'tuple 248']
...
insert into t0 values (249, 'tuple 249')
---
- [249, 'tuple 249']
...
select * from t0 where k0 = 245
---
- [245, 'tuple 245']
...
select * from t0 where k0 = 246
---
- [246, 'tuple 246']
...
select * from t0 where k0 = 247
---
- [247, 'tuple 247']
...
select * from t0 where k0 = 248
---
- [248, 'tuple 248']
...
select * from t0 where k0 = 249
---
- [249, 'tuple 249']
...
swap servers
switch replica to master
db.cfg{replication_source=''}
---
...
switch master to replica
insert into t0 values (250, 'tuple 250')
---
- [250, 'tuple 250']
...
insert into t0 values (251, 'tuple 251')
---
- [251, 'tuple 251']
...
insert into t0 values (252, 'tuple 252')
---
- [252, 'tuple 252']
...
insert into t0 values (253, 'tuple 253')
---
- [253, 'tuple 253']
...
insert into t0 values (254, 'tuple 254')
---
- [254, 'tuple 254']
...
select * from t0 where k0 = 250
---
- [250, 'tuple 250']
...
select * from t0 where k0 = 251
---
- [251, 'tuple 251']
...
select * from t0 where k0 = 252
---
- [252, 'tuple 252']
...
select * from t0 where k0 = 253
---
- [253, 'tuple 253']
...
select * from t0 where k0 = 254
---
- [254, 'tuple 254']
...
insert into t0 values (255, 'tuple 255')
---
- [255, 'tuple 255']
...
insert into t0 values (256, 'tuple 256')
---
- [256, 'tuple 256']
...
insert into t0 values (257, 'tuple 257')
---
- [257, 'tuple 257']
...
insert into t0 values (258, 'tuple 258')
---
- [258, 'tuple 258']
...
insert into t0 values (259, 'tuple 259')
---
- [259, 'tuple 259']
...
select * from t0 where k0 = 255
---
- [255, 'tuple 255']
...
select * from t0 where k0 = 256
---
- [256, 'tuple 256']
...
select * from t0 where k0 = 257
---
- [257, 'tuple 257']
...
select * from t0 where k0 = 258
---
- [258, 'tuple 258']
...
select * from t0 where k0 = 259
---
- [259, 'tuple 259']
...
rollback servers configuration
switch master to master
db.cfg{replication_source=''}
---
...
switch replica to replica
test 13 iteration
insert into t0 values (260, 'tuple 260')
---
- [260, 'tuple 260']
...
insert into t0 values (261, 'tuple 261')
---
- [261, 'tuple 261']
...
insert into t0 values (262, 'tuple 262')
---
- [262, 'tuple 262']
...
insert into t0 values (263, 'tuple 263')
---
- [263, 'tuple 263']
...
insert into t0 values (264, 'tuple 264')
---
- [264, 'tuple 264']
...
select * from t0 where k0 = 260
---
- [260, 'tuple 260']
...
select * from t0 where k0 = 261
---
- [261, 'tuple 261']
...
select * from t0 where k0 = 262
---
- [262, 'tuple 262']
...
select * from t0 where k0 = 263
---
- [263, 'tuple 263']
...
select * from t0 where k0 = 264
---
- [264, 'tuple 264']
...
insert into t0 values (265, 'tuple 265')
---
- [265, 'tuple 265']
...
insert into t0 values (266, 'tuple 266')
---
- [266, 'tuple 266']
...
insert into t0 values (267, 'tuple 267')
---
- [267, 'tuple 267']
...
insert into t0 values (268, 'tuple 268')
---
- [268, 'tuple 268']
...
insert into t0 values (269, 'tuple 269')
---
- [269, 'tuple 269']
...
select * from t0 where k0 = 265
---
- [265, 'tuple 265']
...
select * from t0 where k0 = 266
---
- [266, 'tuple 266']
...
select * from t0 where k0 = 267
---
- [267, 'tuple 267']
...
select * from t0 where k0 = 268
---
- [268, 'tuple 268']
...
select * from t0 where k0 = 269
---
- [269, 'tuple 269']
...
swap servers
switch replica to master
db.cfg{replication_source=''}
---
...
switch master to replica
insert into t0 values (270, 'tuple 270')
---
- [270, 'tuple 270']
...
insert into t0 values (271, 'tuple 271')
---
- [271, 'tuple 271']
...
insert into t0 values (272, 'tuple 272')
---
- [272, 'tuple 272']
...
insert into t0 values (273, 'tuple 273')
---
- [273, 'tuple 273']
...
insert into t0 values (274, 'tuple 274')
---
- [274, 'tuple 274']
...
select * from t0 where k0 = 270
---
- [270, 'tuple 270']
...
select * from t0 where k0 = 271
---
- [271, 'tuple 271']
...
select * from t0 where k0 = 272
---
- [272, 'tuple 272']
...
select * from t0 where k0 = 273
---
- [273, 'tuple 273']
...
select * from t0 where k0 = 274
---
- [274, 'tuple 274']
...
insert into t0 values (275, 'tuple 275')
---
- [275, 'tuple 275']
...
insert into t0 values (276, 'tuple 276')
---
- [276, 'tuple 276']
...
insert into t0 values (277, 'tuple 277')
---
- [277, 'tuple 277']
...
insert into t0 values (278, 'tuple 278')
---
- [278, 'tuple 278']
...
insert into t0 values (279, 'tuple 279')
---
- [279, 'tuple 279']
...
select * from t0 where k0 = 275
---
- [275, 'tuple 275']
...
select * from t0 where k0 = 276
---
- [276, 'tuple 276']
...
select * from t0 where k0 = 277
---
- [277, 'tuple 277']
...
select * from t0 where k0 = 278
---
- [278, 'tuple 278']
...
select * from t0 where k0 = 279
---
- [279, 'tuple 279']
...
rollback servers configuration
switch master to master
db.cfg{replication_source=''}
---
...
switch replica to replica
test 14 iteration
insert into t0 values (280, 'tuple 280')
---
- [280, 'tuple 280']
...
insert into t0 values (281, 'tuple 281')
---
- [281, 'tuple 281']
...
insert into t0 values (282, 'tuple 282')
---
- [282, 'tuple 282']
...
insert into t0 values (283, 'tuple 283')
---
- [283, 'tuple 283']
...
insert into t0 values (284, 'tuple 284')
---
- [284, 'tuple 284']
...
select * from t0 where k0 = 280
---
- [280, 'tuple 280']
...
select * from t0 where k0 = 281
---
- [281, 'tuple 281']
...
select * from t0 where k0 = 282
---
- [282, 'tuple 282']
...
select * from t0 where k0 = 283
---
- [283, 'tuple 283']
...
select * from t0 where k0 = 284
---
- [284, 'tuple 284']
...
insert into t0 values (285, 'tuple 285')
---
- [285, 'tuple 285']
...
insert into t0 values (286, 'tuple 286')
---
- [286, 'tuple 286']
...
insert into t0 values (287, 'tuple 287')
---
- [287, 'tuple 287']
...
insert into t0 values (288, 'tuple 288')
---
- [288, 'tuple 288']
...
insert into t0 values (289, 'tuple 289')
---
- [289, 'tuple 289']
...
select * from t0 where k0 = 285
---
- [285, 'tuple 285']
...
select * from t0 where k0 = 286
---
- [286, 'tuple 286']
...
select * from t0 where k0 = 287
---
- [287, 'tuple 287']
...
select * from t0 where k0 = 288
---
- [288, 'tuple 288']
...
select * from t0 where k0 = 289
---
- [289, 'tuple 289']
...
swap servers
switch replica to master
db.cfg{replication_source=''}
---
...
switch master to replica
insert into t0 values (290, 'tuple 290')
---
- [290, 'tuple 290']
...
insert into t0 values (291, 'tuple 291')
---
- [291, 'tuple 291']
...
insert into t0 values (292, 'tuple 292')
---
- [292, 'tuple 292']
...
insert into t0 values (293, 'tuple 293')
---
- [293, 'tuple 293']
...
insert into t0 values (294, 'tuple 294')
---
- [294, 'tuple 294']
...
select * from t0 where k0 = 290
---
- [290, 'tuple 290']
...
select * from t0 where k0 = 291
---
- [291, 'tuple 291']
...
select * from t0 where k0 = 292
---
- [292, 'tuple 292']
...
select * from t0 where k0 = 293
---
- [293, 'tuple 293']
...
select * from t0 where k0 = 294
---
- [294, 'tuple 294']
...
insert into t0 values (295, 'tuple 295')
---
- [295, 'tuple 295']
...
insert into t0 values (296, 'tuple 296')
---
- [296, 'tuple 296']
...
insert into t0 values (297, 'tuple 297')
---
- [297, 'tuple 297']
...
insert into t0 values (298, 'tuple 298')
---
- [298, 'tuple 298']
...
insert into t0 values (299, 'tuple 299')
---
- [299, 'tuple 299']
...
select * from t0 where k0 = 295
---
- [295, 'tuple 295']
...
select * from t0 where k0 = 296
---
- [296, 'tuple 296']
...
select * from t0 where k0 = 297
---
- [297, 'tuple 297']
...
select * from t0 where k0 = 298
---
- [298, 'tuple 298']
...
select * from t0 where k0 = 299
---
- [299, 'tuple 299']
...
rollback servers configuration
switch master to master
db.cfg{replication_source=''}
---
...
switch replica to replica
test 15 iteration
insert into t0 values (300, 'tuple 300')
---
- [300, 'tuple 300']
...
insert into t0 values (301, 'tuple 301')
---
- [301, 'tuple 301']
...
insert into t0 values (302, 'tuple 302')
---
- [302, 'tuple 302']
...
insert into t0 values (303, 'tuple 303')
---
- [303, 'tuple 303']
...
insert into t0 values (304, 'tuple 304')
---
- [304, 'tuple 304']
...
select * from t0 where k0 = 300
---
- [300, 'tuple 300']
...
select * from t0 where k0 = 301
---
- [301, 'tuple 301']
...
select * from t0 where k0 = 302
---
- [302, 'tuple 302']
...
select * from t0 where k0 = 303
---
- [303, 'tuple 303']
...
select * from t0 where k0 = 304
---
- [304, 'tuple 304']
...
insert into t0 values (305, 'tuple 305')
---
- [305, 'tuple 305']
...
insert into t0 values (306, 'tuple 306')
---
- [306, 'tuple 306']
...
insert into t0 values (307, 'tuple 307')
---
- [307, 'tuple 307']
...
insert into t0 values (308, 'tuple 308')
---
- [308, 'tuple 308']
...
insert into t0 values (309, 'tuple 309')
---
- [309, 'tuple 309']
...
select * from t0 where k0 = 305
---
- [305, 'tuple 305']
...
select * from t0 where k0 = 306
---
- [306, 'tuple 306']
...
select * from t0 where k0 = 307
---
- [307, 'tuple 307']
...
select * from t0 where k0 = 308
---
- [308, 'tuple 308']
...
select * from t0 where k0 = 309
---
- [309, 'tuple 309']
...
swap servers
switch replica to master
db.cfg{replication_source=''}
---
...
switch master to replica
insert into t0 values (310, 'tuple 310')
---
- [310, 'tuple 310']
...
insert into t0 values (311, 'tuple 311')
---
- [311, 'tuple 311']
...
insert into t0 values (312, 'tuple 312')
---
- [312, 'tuple 312']
...
insert into t0 values (313, 'tuple 313')
---
- [313, 'tuple 313']
...
insert into t0 values (314, 'tuple 314')
---
- [314, 'tuple 314']
...
select * from t0 where k0 = 310
---
- [310, 'tuple 310']
...
select * from t0 where k0 = 311
---
- [311, 'tuple 311']
...
select * from t0 where k0 = 312
---
- [312, 'tuple 312']
...
select * from t0 where k0 = 313
---
- [313, 'tuple 313']
...
select * from t0 where k0 = 314
---
- [314, 'tuple 314']
...
insert into t0 values (315, 'tuple 315')
---
- [315, 'tuple 315']
...
insert into t0 values (316, 'tuple 316')
---
- [316, 'tuple 316']
...
insert into t0 values (317, 'tuple 317')
---
- [317, 'tuple 317']
...
insert into t0 values (318, 'tuple 318')
---
- [318, 'tuple 318']
...
insert into t0 values (319, 'tuple 319')
---
- [319, 'tuple 319']
...
select * from t0 where k0 = 315
---
- [315, 'tuple 315']
...
select * from t0 where k0 = 316
---
- [316, 'tuple 316']
...
select * from t0 where k0 = 317
---
- [317, 'tuple 317']
...
select * from t0 where k0 = 318
---
- [318, 'tuple 318']
...
select * from t0 where k0 = 319
---
- [319, 'tuple 319']
...
rollback servers configuration
switch master to master
db.cfg{replication_source=''}
---
...
switch replica to replica
test 16 iteration
insert into t0 values (320, 'tuple 320')
---
- [320, 'tuple 320']
...
insert into t0 values (321, 'tuple 321')
---
- [321, 'tuple 321']
...
insert into t0 values (322, 'tuple 322')
---
- [322, 'tuple 322']
...
insert into t0 values (323, 'tuple 323')
---
- [323, 'tuple 323']
...
insert into t0 values (324, 'tuple 324')
---
- [324, 'tuple 324']
...
select * from t0 where k0 = 320
---
- [320, 'tuple 320']
...
select * from t0 where k0 = 321
---
- [321, 'tuple 321']
...
select * from t0 where k0 = 322
---
- [322, 'tuple 322']
...
select * from t0 where k0 = 323
---
- [323, 'tuple 323']
...
select * from t0 where k0 = 324
---
- [324, 'tuple 324']
...
insert into t0 values (325, 'tuple 325')
---
- [325, 'tuple 325']
...
insert into t0 values (326, 'tuple 326')
---
- [326, 'tuple 326']
...
insert into t0 values (327, 'tuple 327')
---
- [327, 'tuple 327']
...
insert into t0 values (328, 'tuple 328')
---
- [328, 'tuple 328']
...
insert into t0 values (329, 'tuple 329')
---
- [329, 'tuple 329']
...
select * from t0 where k0 = 325
---
- [325, 'tuple 325']
...
select * from t0 where k0 = 326
---
- [326, 'tuple 326']
...
select * from t0 where k0 = 327
---
- [327, 'tuple 327']
...
select * from t0 where k0 = 328
---
- [328, 'tuple 328']
...
select * from t0 where k0 = 329
---
- [329, 'tuple 329']
...
swap servers
switch replica to master
db.cfg{replication_source=''}
---
...
switch master to replica
insert into t0 values (330, 'tuple 330')
---
- [330, 'tuple 330']
...
insert into t0 values (331, 'tuple 331')
---
- [331, 'tuple 331']
...
insert into t0 values (332, 'tuple 332')
---
- [332, 'tuple 332']
...
insert into t0 values (333, 'tuple 333')
---
- [333, 'tuple 333']
...
insert into t0 values (334, 'tuple 334')
---
- [334, 'tuple 334']
...
select * from t0 where k0 = 330
---
- [330, 'tuple 330']
...
select * from t0 where k0 = 331
---
- [331, 'tuple 331']
...
select * from t0 where k0 = 332
---
- [332, 'tuple 332']
...
select * from t0 where k0 = 333
---
- [333, 'tuple 333']
...
select * from t0 where k0 = 334
---
- [334, 'tuple 334']
...
insert into t0 values (335, 'tuple 335')
---
- [335, 'tuple 335']
...
insert into t0 values (336, 'tuple 336')
---
- [336, 'tuple 336']
...
insert into t0 values (337, 'tuple 337')
---
- [337, 'tuple 337']
...
insert into t0 values (338, 'tuple 338')
---
- [338, 'tuple 338']
...
insert into t0 values (339, 'tuple 339')
---
- [339, 'tuple 339']
...
select * from t0 where k0 = 335
---
- [335, 'tuple 335']
...
select * from t0 where k0 = 336
---
- [336, 'tuple 336']
...
select * from t0 where k0 = 337
---
- [337, 'tuple 337']
...
select * from t0 where k0 = 338
---
- [338, 'tuple 338']
...
select * from t0 where k0 = 339
---
- [339, 'tuple 339']
...
rollback servers configuration
switch master to master
db.cfg{replication_source=''}
---
...
switch replica to replica
test 17 iteration
insert into t0 values (340, 'tuple 340')
---
- [340, 'tuple 340']
...
insert into t0 values (341, 'tuple 341')
---
- [341, 'tuple 341']
...
insert into t0 values (342, 'tuple 342')
---
- [342, 'tuple 342']
...
insert into t0 values (343, 'tuple 343')
---
- [343, 'tuple 343']
...
insert into t0 values (344, 'tuple 344')
---
- [344, 'tuple 344']
...
select * from t0 where k0 = 340
---
- [340, 'tuple 340']
...
select * from t0 where k0 = 341
---
- [341, 'tuple 341']
...
select * from t0 where k0 = 342
---
- [342, 'tuple 342']
...
select * from t0 where k0 = 343
---
- [343, 'tuple 343']
...
select * from t0 where k0 = 344
---
- [344, 'tuple 344']
...
insert into t0 values (345, 'tuple 345')
---
- [345, 'tuple 345']
...
insert into t0 values (346, 'tuple 346')
---
- [346, 'tuple 346']
...
insert into t0 values (347, 'tuple 347')
---
- [347, 'tuple 347']
...
insert into t0 values (348, 'tuple 348')
---
- [348, 'tuple 348']
...
insert into t0 values (349, 'tuple 349')
---
- [349, 'tuple 349']
...
select * from t0 where k0 = 345
---
- [345, 'tuple 345']
...
select * from t0 where k0 = 346
---
- [346, 'tuple 346']
...
select * from t0 where k0 = 347
---
- [347, 'tuple 347']
...
select * from t0 where k0 = 348
---
- [348, 'tuple 348']
...
select * from t0 where k0 = 349
---
- [349, 'tuple 349']
...
swap servers
switch replica to master
db.cfg{replication_source=''}
---
...
switch master to replica
insert into t0 values (350, 'tuple 350')
---
- [350, 'tuple 350']
...
insert into t0 values (351, 'tuple 351')
---
- [351, 'tuple 351']
...
insert into t0 values (352, 'tuple 352')
---
- [352, 'tuple 352']
...
insert into t0 values (353, 'tuple 353')
---
- [353, 'tuple 353']
...
insert into t0 values (354, 'tuple 354')
---
- [354, 'tuple 354']
...
select * from t0 where k0 = 350
---
- [350, 'tuple 350']
...
select * from t0 where k0 = 351
---
- [351, 'tuple 351']
...
select * from t0 where k0 = 352
---
- [352, 'tuple 352']
...
select * from t0 where k0 = 353
---
- [353, 'tuple 353']
...
select * from t0 where k0 = 354
---
- [354, 'tuple 354']
...
insert into t0 values (355, 'tuple 355')
---
- [355, 'tuple 355']
...
insert into t0 values (356, 'tuple 356')
---
- [356, 'tuple 356']
...
insert into t0 values (357, 'tuple 357')
---
- [357, 'tuple 357']
...
insert into t0 values (358, 'tuple 358')
---
- [358, 'tuple 358']
...
insert into t0 values (359, 'tuple 359')
---
- [359, 'tuple 359']
...
select * from t0 where k0 = 355
---
- [355, 'tuple 355']
...
select * from t0 where k0 = 356
---
- [356, 'tuple 356']
...
select * from t0 where k0 = 357
---
- [357, 'tuple 357']
...
select * from t0 where k0 = 358
---
- [358, 'tuple 358']
...
select * from t0 where k0 = 359
---
- [359, 'tuple 359']
...
rollback servers configuration
switch master to master
db.cfg{replication_source=''}
---
...
switch replica to replica
test 18 iteration
insert into t0 values (360, 'tuple 360')
---
- [360, 'tuple 360']
...
insert into t0 values (361, 'tuple 361')
---
- [361, 'tuple 361']
...
insert into t0 values (362, 'tuple 362')
---
- [362, 'tuple 362']
...
insert into t0 values (363, 'tuple 363')
---
- [363, 'tuple 363']
...
insert into t0 values (364, 'tuple 364')
---
- [364, 'tuple 364']
...
select * from t0 where k0 = 360
---
- [360, 'tuple 360']
...
select * from t0 where k0 = 361
---
- [361, 'tuple 361']
...
select * from t0 where k0 = 362
---
- [362, 'tuple 362']
...
select * from t0 where k0 = 363
---
- [363, 'tuple 363']
...
select * from t0 where k0 = 364
---
- [364, 'tuple 364']
...
insert into t0 values (365, 'tuple 365')
---
- [365, 'tuple 365']
...
insert into t0 values (366, 'tuple 366')
---
- [366, 'tuple 366']
...
insert into t0 values (367, 'tuple 367')
---
- [367, 'tuple 367']
...
insert into t0 values (368, 'tuple 368')
---
- [368, 'tuple 368']
...
insert into t0 values (369, 'tuple 369')
---
- [369, 'tuple 369']
...
select * from t0 where k0 = 365
---
- [365, 'tuple 365']
...
select * from t0 where k0 = 366
---
- [366, 'tuple 366']
...
select * from t0 where k0 = 367
---
- [367, 'tuple 367']
...
select * from t0 where k0 = 368
---
- [368, 'tuple 368']
...
select * from t0 where k0 = 369
---
- [369, 'tuple 369']
...
swap servers
switch replica to master
db.cfg{replication_source=''}
---
...
switch master to replica
insert into t0 values (370, 'tuple 370')
---
- [370, 'tuple 370']
...
insert into t0 values (371, 'tuple 371')
---
- [371, 'tuple 371']
...
insert into t0 values (372, 'tuple 372')
---
- [372, 'tuple 372']
...
insert into t0 values (373, 'tuple 373')
---
- [373, 'tuple 373']
...
insert into t0 values (374, 'tuple 374')
---
- [374, 'tuple 374']
...
select * from t0 where k0 = 370
---
- [370, 'tuple 370']
...
select * from t0 where k0 = 371
---
- [371, 'tuple 371']
...
select * from t0 where k0 = 372
---
- [372, 'tuple 372']
...
select * from t0 where k0 = 373
---
- [373, 'tuple 373']
...
select * from t0 where k0 = 374
---
- [374, 'tuple 374']
...
insert into t0 values (375, 'tuple 375')
---
- [375, 'tuple 375']
...
insert into t0 values (376, 'tuple 376')
---
- [376, 'tuple 376']
...
insert into t0 values (377, 'tuple 377')
---
- [377, 'tuple 377']
...
insert into t0 values (378, 'tuple 378')
---
- [378, 'tuple 378']
...
insert into t0 values (379, 'tuple 379')
---
- [379, 'tuple 379']
...
select * from t0 where k0 = 375
---
- [375, 'tuple 375']
...
select * from t0 where k0 = 376
---
- [376, 'tuple 376']
...
select * from t0 where k0 = 377
---
- [377, 'tuple 377']
...
select * from t0 where k0 = 378
---
- [378, 'tuple 378']
...
select * from t0 where k0 = 379
---
- [379, 'tuple 379']
...
rollback servers configuration
switch master to master
db.cfg{replication_source=''}
---
...
switch replica to replica
test 19 iteration
insert into t0 values (380, 'tuple 380')
---
- [380, 'tuple 380']
...
insert into t0 values (381, 'tuple 381')
---
- [381, 'tuple 381']
...
insert into t0 values (382, 'tuple 382')
---
- [382, 'tuple 382']
...
insert into t0 values (383, 'tuple 383')
---
- [383, 'tuple 383']
...
insert into t0 values (384, 'tuple 384')
---
- [384, 'tuple 384']
...
select * from t0 where k0 = 380
---
- [380, 'tuple 380']
...
select * from t0 where k0 = 381
---
- [381, 'tuple 381']
...
select * from t0 where k0 = 382
---
- [382, 'tuple 382']
...
select * from t0 where k0 = 383
---
- [383, 'tuple 383']
...
select * from t0 where k0 = 384
---
- [384, 'tuple 384']
...
insert into t0 values (385, 'tuple 385')
---
- [385, 'tuple 385']
...
insert into t0 values (386, 'tuple 386')
---
- [386, 'tuple 386']
...
insert into t0 values (387, 'tuple 387')
---
- [387, 'tuple 387']
...
insert into t0 values (388, 'tuple 388')
---
- [388, 'tuple 388']
...
insert into t0 values (389, 'tuple 389')
---
- [389, 'tuple 389']
...
select * from t0 where k0 = 385
---
- [385, 'tuple 385']
...
select * from t0 where k0 = 386
---
- [386, 'tuple 386']
...
select * from t0 where k0 = 387
---
- [387, 'tuple 387']
...
select * from t0 where k0 = 388
---
- [388, 'tuple 388']
...
select * from t0 where k0 = 389
---
- [389, 'tuple 389']
...
swap servers
switch replica to master
db.cfg{replication_source=''}
---
...
switch master to replica
insert into t0 values (390, 'tuple 390')
---
- [390, 'tuple 390']
...
insert into t0 values (391, 'tuple 391')
---
- [391, 'tuple 391']
...
insert into t0 values (392, 'tuple 392')
---
- [392, 'tuple 392']
...
insert into t0 values (393, 'tuple 393')
---
- [393, 'tuple 393']
...
insert into t0 values (394, 'tuple 394')
---
- [394, 'tuple 394']
...
select * from t0 where k0 = 390
---
- [390, 'tuple 390']
...
select * from t0 where k0 = 391
---
- [391, 'tuple 391']
...
select * from t0 where k0 = 392
---
- [392, 'tuple 392']
...
select * from t0 where k0 = 393
---
- [393, 'tuple 393']
...
select * from t0 where k0 = 394
---
- [394, 'tuple 394']
...
insert into t0 values (395, 'tuple 395')
---
- [395, 'tuple 395']
...
insert into t0 values (396, 'tuple 396')
---
- [396, 'tuple 396']
...
insert into t0 values (397, 'tuple 397')
---
- [397, 'tuple 397']
...
insert into t0 values (398, 'tuple 398')
---
- [398, 'tuple 398']
...
insert into t0 values (399, 'tuple 399')
---
- [399, 'tuple 399']
...
select * from t0 where k0 = 395
---
- [395, 'tuple 395']
...
select * from t0 where k0 = 396
---
- [396, 'tuple 396']
...
select * from t0 where k0 = 397
---
- [397, 'tuple 397']
...
select * from t0 where k0 = 398
---
- [398, 'tuple 398']
...
select * from t0 where k0 = 399
---
- [399, 'tuple 399']
...
rollback servers configuration
switch master to master
db.cfg{replication_source=''}
---
...
switch replica to replica
